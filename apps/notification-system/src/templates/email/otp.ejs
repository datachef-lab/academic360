<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title><%= content && content.subject ? content.subject : "Your OTP Code" %></title>
    <style>
      /* Email-safe, inlineable styles; avoid external CSS */
      body { margin: 0; padding: 0; background: #f6f8fb; color: #0f172a; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif; }
      .wrapper { width: 100%; background: #f6f8fb; padding: 24px 12px; }
      .container { max-width: 640px; margin: 0 auto; background: #ffffff; border: 1px solid #e6e8ee; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 6px rgba(2,6,23,0.06); }
      .header-bar { padding: 16px 20px; background: #1e40af; color: #ffffff; font-weight: 600; font-size: 16px; text-align: center; }
      .content { padding: 24px 20px 8px 20px; text-align: center; }
      .greeting { margin: 0 0 8px 0; font-size: 14px; }
      .lead { margin: 0 0 16px 0; font-size: 14px; line-height: 1.6; color: #334155; }
      .otp-container { background: #f8fafc; border: 2px dashed #cbd5e1; border-radius: 12px; padding: 20px; margin: 16px 0 8px 0; }
      .otp-label { font-size: 12px; color: #64748b; margin-bottom: 8px; font-weight: 600; letter-spacing: .4px; text-transform: uppercase; }
      .otp-code { font-size: 32px; font-weight: 800; color: #0f172a; letter-spacing: 8px; font-family: "Courier New", monospace; background: #ffffff; padding: 14px 20px; border-radius: 10px; border: 1px solid #e2e8f0; display: inline-block; box-shadow: 0 1px 3px rgba(2,6,23,0.06); }
      .note { padding: 12px 14px; border-radius: 10px; margin: 12px 0; text-align: left; }
      .info { background: #eff6ff; border: 1px solid #bfdbfe; color: #1e40af; }
      .warn { background: #fff7ed; border: 1px solid #fed7aa; color: #9a3412; }
      .danger { background: #fef2f2; border: 1px solid #fecaca; color: #7f1d1d; }
      .footer { padding: 16px 20px 20px 20px; color: #64748b; font-size: 12px; text-align: center; border-top: 1px solid #e6e8ee; }
      .brand { color: #0f172a; font-weight: 700; margin-bottom: 4px; }
      .preheader { display: none; max-height: 0; overflow: hidden; opacity: 0; color: transparent; mso-hide: all; }
    </style>
  </head>
  <body>
    <!-- Preheader text -->
    <div class="preheader">Your One-Time Password (OTP) for Academic360</div>
    <div class="wrapper">
      <div class="container">
        <div class="header-bar"><%= content && content.emailFromName ? content.emailFromName : "Academic360" %></div>
        <div class="content">
          <% if (content && content.greetingName) { %>
            <p class="greeting">Hello <strong><%= content.greetingName %></strong>,</p>
          <% } else { %>
            <p class="greeting">Hello,</p>
          <% } %>

          <p class="lead">You requested a One-Time Password (OTP) for your account. Use the code below to complete your verification:</p>

          <div class="otp-container">
            <div class="otp-label">Your OTP Code</div>
            <div class="otp-code"><%= (content && (content.otpCode || (content.templateData && content.templateData.otpCode))) ? (content.otpCode || content.templateData.otpCode) : "" %></div>
          </div>

          <% if (content && content.expiryMinutes) { %>
            <div class="note info"><strong>‚è∞ This OTP will expire in <%= content.expiryMinutes %> minutes.</strong></div>
          <% } %>

          <div class="note warn">
            <div style="font-weight:600; margin-bottom:6px;">‚ö†Ô∏è Important Security Information</div>
            <div style="font-size:12px; line-height:1.6;">
              ‚Ä¢ Never share this OTP with anyone<br/>
              ‚Ä¢ Academic360 will never ask for your OTP via phone or email<br/>
              ‚Ä¢ If you didn't request this OTP, please ignore this email
            </div>
          </div>

          <div class="note danger">
            <div style="font-weight:600; margin-bottom:4px;">üîí Security Note</div>
            <div style="font-size:12px; line-height:1.6;">This OTP is valid for a single use only. After successful verification, it will be automatically invalidated.</div>
          </div>
        </div>
        <div class="footer">
          <div class="brand">Academic360</div>
          <div>This is an automated security message. Please do not reply to this email.</div>
          <div style="margin-top:6px;">&copy; <%= new Date().getFullYear() %> Academic360. All rights reserved.</div>
        </div>
      </div>
    </div>
  </body>
</html>
